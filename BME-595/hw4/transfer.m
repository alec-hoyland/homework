function [H M P] = transfer(F,nfreqs)%% Name: transfer%% Inputs:%    F - a struct, representing a digital filter%    nfreqs - a scalar representing the number of frequencies to evaluate% Outputs:%    H - a nfreqs-by-1 vector, representing the filter frequency response%    M - a nfreqs-by-1 vector, representing the filter magnitude response%    P - a nfreqs-by-1 vector, representing the filter phase response%% Created by: Adam C. Lammert (2022)% Author: ??? (you)%% Description: Compute the frequency response of a digital filter at the%              nfreqs frequencies equally spaced between 0 and pi.%              Note: this is a version of Matlab's 'freqz'.%% Determine additional parametersj = sqrt(-1);% Fill a vector of test frequenciesw = linspace(0, pi, nfreqs)';% Create a vector H that will eventually contain % the transfer function.H = zeros(nfreqs,1);% Compute H by summing the terms of the polynomial in zz = cos(w) + j * sin(w);for ii = 1:length(F.b)    H = H + F.b(ii) * (z .^ (ii-1));end% Calculate magnitude (M) and phase (P) outputsM = abs(H);P = angle(H);return%eof